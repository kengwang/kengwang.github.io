<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    [二改]FirstStikeFinalHour(核弹先发制人)破解教程(分析) | Kengwang博客
</title>
<link rel="shortcut icon" href="https://blog.tysv.top/favicon.ico?v=1581185654205">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://blog.tysv.top/styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://blog.tysv.top/media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-157574292-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-157574292-1');
    </script>
    
        
            

                    
                        <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
                        <script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>
                        
                            
</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://blog.tysv.top">
                <img class="avatar" src="https://blog.tysv.top/images/avatar.png?v=1581185654205" alt="">
            </a>
            <div class="site-title">
                <h1>
                    Kengwang博客
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    首页
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    归档
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    标签
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    关于
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-detail main-container">
                <!-- left -->
                <div id="content" class="main-container-left">
                    <article class="post i-card">
                        <h2 class="post-title">
                            [二改]FirstStikeFinalHour(核弹先发制人)破解教程(分析)
                        </h2>
                        <div class="post-info">
                            <time class="post-time">2019-04-30</time>
                            
                        </div>
                        
                                <div class="post-content">
                                    <h1 id="二改说明">二改说明</h1>
<p>作者在此给坛友道个歉,当时撰写时确实时间没多少,赶着上课,所以质量不高,所以来一次二次更改!希望这一次的可以让更多人理解.也希望大家有建议也可以提出,看到后会回复. 20190426 25:35:18 下暴雨了,明天继续 20190427 08:50:29 继续更新!</p>
<h2 id="问答">问&amp;答</h2>
<p>因为有很多坛友都在问一些问题,就在这里回答了吧. Q1: 请问<a href="https://www.52pojie.cn/">破解</a>的软件是什么,可以发一下吗 A1: Dnspy 建议到爱盘上下载! 直链 <a href="https://down.52pojie.cn/Tools/NET/dnSpy.zip">Dnspy爱盘链接</a> Q2:破解的是电脑版还是手机版 A2:电脑版,手机版的话安卓可以解包后编辑Assembly-CSharp.dll 应该是差不多的方法吧 安卓的这个文件可能在assets/bin/Data/Managed/Assembly-CSharp.dll 思路差不多,毕竟一个人写出来的</p>
<h2 id="修改内容">修改内容</h2>
<p>这个星期和aaaaaaccd交流了一下,发现了一些新的破解方法,也在他的说下发现了一些没有破解到的地方</p>
<ul>
<li>超级武器研究&amp;建造时间√</li>
<li>成就全解锁√</li>
<li>攻击&amp;防御的冷却√</li>
<li>有一个国家没有解锁(哈萨克斯坦)√</li>
<li>其他国家的速度也很快!</li>
<li>自动防御有时会有问题(自动防御其实可以不需要,研究就行了)</li>
</ul>
<p>二改之后会 修改一下之前的思路,然后修改</p>
<h1 id="前言">前言</h1>
<p>第一次在52破解发帖,也不知道发到哪个区,干脆发到<a href="https://www.52pojie.cn/forum-5-1.html">脱壳</a>破解区吧. 核弹先发制人这款游戏还是aaaaaaccd推荐的,他说想找一个破解教程,52上逛了一圈,好像还没有,就自己发个坑吧......</p>
<h1 id="简介游戏">简介游戏</h1>
<p>这款游戏是一个即时性战略游戏,你有几个操作:</p>
<ol>
<li>攻击</li>
<li>防御</li>
<li>拓宽领土</li>
<li>研究新武器/新技能</li>
</ol>
<p>每一个都需要时间,时间就是这个游戏中的金钱...... emm,怎么说呢......下载游戏了就知道了!!</p>
<h1 id="确定方向">确定方向</h1>
<p>首先我们要破解的话,要确定好破解的方向.目前我们就讲讲一下几个吧</p>
<ol>
<li>国家全解锁</li>
<li>自动防御默认开启</li>
<li>无建造时间(这个稍稍有点困难)</li>
<li>(未完待续)</li>
</ol>
<h1 id="开场分析寻找破解软件">开场分析,寻找破解软件</h1>
<p>这个是用的Unity写的,而且还是用的Mono打包(嘿嘿),找到 .\FirstStikeFinalHour_Data\Managed\Assembly-CSharp.dll  抱着试一试的态度打开Dnspy,一拖...... <img src="https://s2.ax1x.com/2019/04/21/EiIv1H.png" alt="EiIv1H.png" loading="lazy"> 这下就用这Dnspy搞事情吧 /坏笑</p>
<h1 id="国家全解锁">国家全解锁</h1>
<h2 id="普通国家">普通国家</h2>
<p>首先,我们看得到,开始是只有美国是解锁的,中国是没有解锁的.我们就来解锁吧. 这个比较简单,字符搜索一下就ok了. <img src="https://s2.ax1x.com/2019/04/21/EioCHP.png" alt="EioCHP.png" loading="lazy"> 可以看到,这边有一个 <strong>UnlockManager</strong> 这个类,肯定就是他了!双击点进去.在这个UnlockManager里面乱翻,得到一个方法 <strong>IsAllianceUnlocked</strong> 嗯,我们来看一看这个的代码 <a href="https://imgchr.com/i/Eiok4S"><img src="https://s2.ax1x.com/2019/04/21/Eiok4S.png" alt="Eiok4S.png" loading="lazy"></a> 他switch国家名称(姑且叫名称吧,其实是另一种数据类型),然后返回那个国家解锁否.emm,我们看看,这个方法的返回值是一个布尔值,而Default是false,那么我们就让他返回True吧! 点击右键-&gt;编辑方法 方法内全部内容删掉,只留下return true; 然后再编译 成果图: <a href="https://imgchr.com/i/EioQEV"><img src="https://s2.ax1x.com/2019/04/21/EioQEV.png" alt="EioQEV.png" loading="lazy"></a></p>
<h2 id="哈萨克斯坦">哈萨克斯坦</h2>
<p>谷歌翻译 哈萨克斯坦=&gt;Kazakhstan Dnspy寻找一下呗,还是在UnlockMananger里面 有一个<strong>GrantAccessToKazahstan</strong> 也不知道是干什么的,好像是解锁哈萨克斯坦的,这个怎么改呢,我们分析一下代码</p>
<pre><code>public void GrantAccessToKazahstan()
        {
                if (!this.unlockedKazakhstan)
                {
                        this.unlockedKazakhstan = true;
                        this.SaveState();
                }
        }
</code></pre>
<p>似乎是说假如说没有解锁就解锁,emm,那我们就把它放到<strong>LoadState</strong>语句吧</p>
<pre><code>public void LoadState()
        {
                this.GrantAccessToKazahstan();
                   .......
        .......
        }
</code></pre>
<p>嘿嘿,既然到这里找到了UnlockManager,下面一个方法不就是<strong>IsSuperWeaponUnlocked</strong></p>
<h1 id="解锁成就">解锁成就</h1>
<p>还是在这个UnlockManager里面 <strong>CheckGoalFinish</strong>函数全部返回Ture ,像国家一样</p>
<h2 id="解锁超级武器">解锁超级武器</h2>
<p>仍然这样吧,全部返回True,运行一下看看 <img src="https://s2.ax1x.com/2019/04/21/EioRbt.gif" alt="EioRbt.gif" loading="lazy"> 嗯,已经全部弄好了呢!,解锁的话就在<strong>UnlockManager</strong>还有什么别的解锁需求可以自己改哦!</p>
<h1 id="无等待时间">无等待时间</h1>
<h2 id="防御攻击无冷却">防御&amp;攻击无冷却</h2>
<p>还在研究,下个星期和aaaaaaccd一起研究一下! 可能是这样 在<strong>NationModel</strong>里面的<strong>RequestRocketLaunch</strong>函数</p>
<pre><code>if (flag)
                        {
                                this._numAttacksOverall++;
                                this.CurrentState = NationState.States.cooldown;
                                this.view.WaitAfterLaunch(agent, 30f);
                        }
</code></pre>
<p>把他注释后成为</p>
<pre><code>if (flag)
                        {
                                this._numAttacksOverall++;
                                //this.CurrentState = NationState.States.cooldown;
                                //this.view.WaitAfterLaunch(agent, 30f);
                        }
</code></pre>
<p><strong>RequestInterceptorLaunch</strong>也是注释掉这样的语句 但是这样的话,他的武器显示不会更新,所以我们就加一个</p>
<pre><code>this.UpdateWeaponBar();
</code></pre>
<p>emm,就加载之前注释的地方吧</p>
<h2 id="建造无时间">建造无时间</h2>
<p>我们就着简单的来,搜寻build,结果搜索结果一堆,那干脆搜索ICBM吧. 忽然发现了onBuildICBM,点进去一路追查,走到了<strong>BuildRocket</strong> 里面就是了! 我们把this.CurrentState = NationState.States.building;可以注释掉,让他认为这个还没有正在建造 然后发现一个更神奇的 this.arsenal.TotalRocketCapacity 嗯,追踪过去,让他返回10(最多建造10个)合理更改,免得游戏炸掉哦! ↑↑↑↑这个可能导致游戏崩溃,不建议修改! 其实在另一个<strong>BuildRocketSub</strong>里面还有东西!追踪到 GetTimeToBuildRocket 嗯,这个就是建造时间 我们直接让他返回0(似乎返回的试float,dnspy会自动加上f) 嘿嘿,这里好像都是和时间有关,看见GetTimeToXX全部返回0吧! 就这样吧!</p>
<h2 id="超级武器研究建造无冷却">超级武器研究&amp;建造无冷却</h2>
<p>搜索一下_Super time_ ,一路跟踪到<strong>SuperWeaponManagerModel</strong>下面的<strong>GetProgressTime</strong> 这个应该就是返回的吧,我们直接让他返回0f 不过这样就有问题了,试试0.1f 0.1f可以通过,总之这个地方不能是0,似乎要执行一个时间减然后才可以解锁Button</p>
<h2 id="扫描无冷却">扫描无冷却</h2>
<p>还在寻找突破口!</p>
<h1 id="自动防御">自动防御</h1>
<p>emm,直接说吧 寻找auto,看到个autoDefendeEnabled,我们往上翻,看到AutoDefenseEnabled函数里面设置了他的值,改成返回true isfull也顺便改了,false</p>
<h1 id="成就全解锁">成就全解锁</h1>
<p>UnlockManager改CheckGoalFinish改成</p>
<pre><code>public bool CheckGoalFinish(int mission)
        {
                return true;
        }
</code></pre>
<h1 id="变态版改变">变态版改变</h1>
<p>这些建议不改,影响游戏体验,而且其他国家也会一样的执行修改后的操作</p>
<h2 id="地区不被毁灭">地区不被毁灭</h2>
<p>NationModel里面的<strong>ReceiveDamage</strong>函数</p>
<pre><code>if(this._health.Health &lt;= 0){
    ...
}
</code></pre>
<p>改为</p>
<pre><code>if(false){
...
}
</code></pre>
<p><strong>LooseNation</strong>函数里面全部注释掉,<strong>OnBurn</strong>函数也全部注释掉</p>
<h1 id="小结">小结</h1>
<p>这次可能有点乱,有问题,或者很多方面做得不好,这只是提供了一个思路,也希望52的坛友们能补充和尝试! ©Kengwang 假如说aaaaaaccd看到了的话:)</p>
<p>当前破解版版本链接(第二版): 链接: https://pan.baidu.com/s/1CQ4bhfFkAOI-ClJYGiL0Og 提取码: wc5j</p>

                                </div>
                    </article>
                    <!--  -->
                    
                        <div class="next-post">
                            <div class="next">下一篇</div>
                            <a href="https://blog.tysv.top/post/182">
                                <h3 class="post-title">
                                    破解完成!
                                </h3>
                            </a>
                        </div>
                        
                            <div id="disqus_thread"></div>
                            <div id="gitalk-container"></div>
                </div>
                <!-- middle -->
                <div class="main-container-middle"></div>
                <!-- right -->
                <div id="sidebar" class="main-container-right">
                    
                        <!-- toc -->
                        
    <div class="toc-card i-card ">
        <div class="toc-title i-card-title">目录</div>
        <div class="toc-content">
            <ul class="markdownIt-TOC">
<li><a href="#%E4%BA%8C%E6%94%B9%E8%AF%B4%E6%98%8E">二改说明</a>
<ul>
<li><a href="#%E9%97%AE%E7%AD%94">问&amp;答</a></li>
<li><a href="#%E4%BF%AE%E6%94%B9%E5%86%85%E5%AE%B9">修改内容</a></li>
</ul>
</li>
<li><a href="#%E5%89%8D%E8%A8%80">前言</a></li>
<li><a href="#%E7%AE%80%E4%BB%8B%E6%B8%B8%E6%88%8F">简介游戏</a></li>
<li><a href="#%E7%A1%AE%E5%AE%9A%E6%96%B9%E5%90%91">确定方向</a></li>
<li><a href="#%E5%BC%80%E5%9C%BA%E5%88%86%E6%9E%90%E5%AF%BB%E6%89%BE%E7%A0%B4%E8%A7%A3%E8%BD%AF%E4%BB%B6">开场分析,寻找破解软件</a></li>
<li><a href="#%E5%9B%BD%E5%AE%B6%E5%85%A8%E8%A7%A3%E9%94%81">国家全解锁</a>
<ul>
<li><a href="#%E6%99%AE%E9%80%9A%E5%9B%BD%E5%AE%B6">普通国家</a></li>
<li><a href="#%E5%93%88%E8%90%A8%E5%85%8B%E6%96%AF%E5%9D%A6">哈萨克斯坦</a></li>
</ul>
</li>
<li><a href="#%E8%A7%A3%E9%94%81%E6%88%90%E5%B0%B1">解锁成就</a>
<ul>
<li><a href="#%E8%A7%A3%E9%94%81%E8%B6%85%E7%BA%A7%E6%AD%A6%E5%99%A8">解锁超级武器</a></li>
</ul>
</li>
<li><a href="#%E6%97%A0%E7%AD%89%E5%BE%85%E6%97%B6%E9%97%B4">无等待时间</a>
<ul>
<li><a href="#%E9%98%B2%E5%BE%A1%E6%94%BB%E5%87%BB%E6%97%A0%E5%86%B7%E5%8D%B4">防御&amp;攻击无冷却</a></li>
<li><a href="#%E5%BB%BA%E9%80%A0%E6%97%A0%E6%97%B6%E9%97%B4">建造无时间</a></li>
<li><a href="#%E8%B6%85%E7%BA%A7%E6%AD%A6%E5%99%A8%E7%A0%94%E7%A9%B6%E5%BB%BA%E9%80%A0%E6%97%A0%E5%86%B7%E5%8D%B4">超级武器研究&amp;建造无冷却</a></li>
<li><a href="#%E6%89%AB%E6%8F%8F%E6%97%A0%E5%86%B7%E5%8D%B4">扫描无冷却</a></li>
</ul>
</li>
<li><a href="#%E8%87%AA%E5%8A%A8%E9%98%B2%E5%BE%A1">自动防御</a></li>
<li><a href="#%E6%88%90%E5%B0%B1%E5%85%A8%E8%A7%A3%E9%94%81">成就全解锁</a></li>
<li><a href="#%E5%8F%98%E6%80%81%E7%89%88%E6%94%B9%E5%8F%98">变态版改变</a>
<ul>
<li><a href="#%E5%9C%B0%E5%8C%BA%E4%B8%8D%E8%A2%AB%E6%AF%81%E7%81%AD">地区不被毁灭</a></li>
</ul>
</li>
<li><a href="#%E5%B0%8F%E7%BB%93">小结</a></li>
</ul>

        </div>
        <script>
            function locateCatelogList() {
                /*获取文章目录集合,可通过:header过滤器*/
                var alis = $('.post-content :header');
                /*获取侧边栏目录列表集合**/
                var sidebar_alis = $('.markdownIt-TOC a');
                /*获取滚动条到顶部的距离*/
                var scroll_height = $(window).scrollTop();
                for (var i = 0; i < alis.length; i++) {
                    /*获取锚点集合中的元素分别到顶点的距离*/
                    var a_height = $(alis[i]).offset().top;
                    if (a_height < scroll_height) {
                        /*高亮显示*/
                        sidebar_alis.removeClass('on');
                        $(sidebar_alis[i]).addClass('on');
                    }
                }
            }
            $(function() {
                /*绑定滚动事件 */
                $(window).bind('scroll', locateCatelogList);
            });
        </script>
    </div>
    
                            

                </div>




            </div>


            <div class="site-footer">
  这个博客由 <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>驱动 | 
  <a class="rss" href="https://blog.tysv.top/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>


    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
    
        

                    
                        <script>
    window.onload = function() {
        var options = {
            shortname: 'kengwang',
            apikey: 'BmmgzGzn7RsVvjoeJrWja8kURFy8vuI5oiaYYlp6WdkJA9mXXDKmuwhuyOgVsvWK',
        }
        if ('') {
            options.api = ''
        }
        var dsqjs = new DisqusJS(options)
    }
</script>
                            
                                
</body>

</html>